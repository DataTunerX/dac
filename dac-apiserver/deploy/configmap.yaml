apiVersion: v1
kind: ConfigMap
metadata:
  name: dac-apiserver-config
  namespace: dac
  labels:
    app: dac-apiserver
data:
  config.yaml: |
    # DAC API Server 生产环境配置
    
    server:
      host: "0.0.0.0"
      port: 8080
      mode: "release"
      read_timeout: 60s
      write_timeout: 60s
      max_request_body_size: 10485760
    
    log:
      level: "info"
      format: "json"
      output: "stdout"
      add_source: false
    
    observability:
      enable_metrics: false
      metrics_port: 9090
      enable_tracing: false
      tracing_endpoint: ""
    
    routing_agent:
      base_url: "http://routing-agent-service:8080"
      timeout: 300s
      session_timeout: 30m
    
    database:
      driver: "mysql"
      host: "mysql-service"
      port: 3306
      user: "dac_user"
      password: "dac_pass"
      database: "dac_db"
      max_open_conns: 25
      max_idle_conns: 5
      conn_max_lifetime: 5m

